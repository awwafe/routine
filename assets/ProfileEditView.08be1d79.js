import{o as a,d as o,F as w,r as S,e as d,n as U,p as V,h as b,c as D,f as i,u as z,b as M,t as y,g as r,w as v,_ as C,q as W,v as X,a as T}from"./index.6c8a7ce8.js";import{C as G,_ as H,D as J}from"./vue3-smooth-dnd.esm.df57e660.js";import{V as K}from"./vue3-lottie.es.21a12d3f.js";import{_ as Q}from"./TaskOptionsDialog.f2cbfc6a.js";import"./_commonjsHelpers.4e997714.js";import"./VDialog.834469f9.js";const Y={class:"colour-select"},Z=["onClick"],ee={__name:"ColourSelect",props:{selected:{required:!0}},emits:["select"],setup(f,{emit:p}){const m=["#ace9dd","#b5efcd","#b7dbf4","#ddc5e7","#b9bfc7","#faeca7","#f2ceab","#f8c2ba"];function h(n){p("select",n)}return(n,e)=>(a(),o("div",Y,[(a(),o(w,null,S(m,l=>d("div",{key:l,class:V(["colour-select__frame no-highlights",{"is-selected":l===f.selected}]),onClick:s=>h(l)},[d("div",{class:"colour-select__colour",style:U(`background: ${l}`)},null,4)],10,Z)),64))]))}};const te={class:"check-select"},se=["onClick"],ae={__name:"CheckSelect",props:{selected:{required:!0}},emits:["select"],setup(f,{emit:p}){const m="/routine/",h=b(["check-1.json","check-2.json","check-3.json","check-4.json","check-5.json","check-6.json","check-7.json","check-8.json","check-9.json","check-10.json","check-11.json"].map(e=>({img:e,src:`${m}checks/${e}`,loop:1})));function n(e){e.loop+=1,p("select",e.img)}return(e,l)=>(a(),o("div",te,[(a(!0),o(w,null,S(h.value,s=>(a(),o("div",{class:V(["check-select__frame no-highlights",{"is-selected":f.selected===s.img}]),key:s.img,onClick:$=>n(s)},[(a(),D(i(K),{class:"check-select__check",key:`${s.img}-${s.loop}`,animationLink:s.src,height:80,width:80,loop:!1},null,8,["animationLink"]))],10,se))),128))]))}};const le={class:"avatar-select"},ne=["onClick"],oe=["src"],ce={__name:"AvatarSelect",props:{selected:{required:!0}},emits:["select"],setup(f,{emit:p}){const m="/routine/",h=["avatar-1.svg","avatar-2.svg","avatar-3.svg","avatar-4.svg","avatar-5.png","avatar-6.png","avatar-7.svg","avatar-8.svg","avatar-9.svg","avatar-10.svg","avatar-11.svg","avatar-12.svg","avatar-13.svg","avatar-14.svg","avatar-15.png"].map(e=>({img:e,src:`${m}avatars/${e}`}));function n(e){p("select",e.img)}return(e,l)=>(a(),o("div",le,[(a(!0),o(w,null,S(i(h),s=>(a(),o("div",{class:V(["avatar-select__frame no-highlights",{"is-selected":f.selected===s.img}]),key:s.img,onClick:$=>n(s)},[d("img",{class:"avatar-select__avatar",src:s.src},null,8,oe)],10,ne))),128))]))}};const ie={class:"profile-edit-view"},re={key:0},ue=T(" Done "),de={class:"profile-edit-view__task-label"},_e={class:"profile-edit-view__task-days"},ve=T("X"),fe=["onSubmit"],pe=T("Add Task"),me={key:1},he=T(" Done "),ke={class:"profile-edit-view__item-list"},Se={__name:"ProfileEditView",props:{profileId:String},setup(f){const p=f,m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function h(t){const u=[];return t.days.length?t.days.forEach(_=>{u.push(m[_])}):u.push("Every Day"),u.join(", ")}const n=z(),e=n.profiles.find(t=>t.id===parseInt(p.profileId)),l=b(null),s=b(""),$=b(!1),x=b(null),j=M(()=>{const t=l.value&&e.routines.find(u=>u.id===l.value.id);return t||{tasks:[]}});function A(t){x.value=t,$.value=!0}function E(){$.value=!1}function I(t){l.value=t}function q(){l&&s.value.trim()&&(n.addTask(e,l.value,s.value.trim()),s.value="")}function B(t){n.deleteTask(e,l.value,t)}function L(t){e.check=t,n.saveRoutines()}function N(t){e.colour=t,n.saveRoutines()}function F(t){e.avatar=t,n.saveRoutines()}function O(t){j.value.tasks=P(j.value.tasks,t),n.saveRoutines()}function P(t,u){const{removedIndex:_,addedIndex:k,payload:c}=u;if(_===null&&k===null)return t;const g=[...t];let R=c;return _!==null&&(R=g.splice(_,1)[0]),k!==null&&g.splice(k,0,R),g}return(t,u)=>{var _,k;return a(),o("div",ie,[l.value?(a(),o("div",re,[d("h1",null," Editing "+y((_=i(e))==null?void 0:_.name)+"'s "+y(l.value.name)+" Routine ",1),r(C,{to:"/"},{default:v(()=>[ue]),_:1}),r(i(G),{class:"profile-edit-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:O},{default:v(()=>[(a(!0),o(w,null,S(i(j).tasks,c=>(a(),D(i(J),{key:c.id,class:"profile-edit-view__item"},{default:v(()=>[r(C,{theme:"flat,white",onClick:g=>A(c)},{default:v(()=>[d("div",de,y(c.name),1),d("div",_e,y(h(c)),1)]),_:2},1032,["onClick"]),r(C,{delay:"false",onClick:g=>B(c)},{default:v(()=>[ve]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),d("div",null,[d("form",{novalidate:"",onSubmit:W(q,["prevent"])},[r(H,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),class:"profile-edit-view__input"},null,8,["modelValue"]),r(C,{delay:"false",type:"submit"},{default:v(()=>[pe]),_:1})],40,fe)]),x.value?(a(),D(Q,{key:0,open:$.value,profile:i(e),routine:l.value,task:x.value,onClose:E},null,8,["open","profile","routine","task"])):X("",!0)])):(a(),o("div",me,[d("h1",null,"Editing "+y((k=i(e))==null?void 0:k.name),1),r(C,{to:"/"},{default:v(()=>[he]),_:1}),d("div",ke,[(a(!0),o(w,null,S(i(n).routines,c=>(a(),o("div",{key:c.id,class:"profile-edit-view__item"},[r(C,{theme:"flat,white",onClick:g=>I(c)},{default:v(()=>[T(y(c.name),1)]),_:2},1032,["onClick"])]))),128))]),r(ae,{selected:i(e).check,onSelect:L},null,8,["selected"]),r(ee,{selected:i(e).colour,onSelect:N},null,8,["selected"]),r(ce,{selected:i(e).avatar,onSelect:F},null,8,["selected"])]))])}}};export{Se as default};
