import{_ as p,o as l,d as c,a as s,t as u,n as C,p as $,h as w,i as D,j as b,b as A,k as B,l as N,u as y,e as _,w as r,f as S,F as R,r as F,c as j,g as x}from"./index.40ce6635.js";var q="/routine/check.png";const E=e=>($("data-v-16f4ba3a"),e=e(),w(),e),J={class:"task__name"},M=E(()=>s("img",{src:q,alt:"check"},null,-1)),U=[M],z={__name:"TaskItem",props:{task:{type:Object,required:!0}},setup(e){const o=e;function a(){o.task.completed=!o.task.completed}return(n,m)=>(l(),c("div",{class:"task",onClick:a},[s("div",J,u(e.task.label),1),s("div",{class:C(["task__status",{"is-checked":e.task.completed}])},U,2)]))}};var L=p(z,[["__scopeId","data-v-16f4ba3a"]]);const G={class:"dialog__modal"},H={__name:"VDialog",props:{open:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:o}){function a(){o("close")}return(n,m)=>(l(),c("div",{class:C(["dialog",{"is-visible":e.open}])},[s("div",{class:"dialog__takeover",onClick:a}),s("div",G,[D(n.$slots,"default",{},void 0,!0),s("div",{class:"dialog__close",onClick:a})])],2))}};var K=p(H,[["__scopeId","data-v-5b98a6b6"]]);const P=e=>($("data-v-15db6ffd"),e=e(),w(),e),Q={class:"routine"},W=x(" Done "),X={class:"item-list"},Y=P(()=>s("div",{class:"dialog__title"}," Congratulations! ",-1)),Z={class:"dialog__content"},ee=x(" Done "),te={__name:"RoutineView",props:{profileId:String,routineId:String},setup(e){const o=e,a=b(!1);function n(){setTimeout(()=>{a.value=!1},300)}const f=A().profiles.find(t=>t.id===parseInt(o.profileId)),v=f.routines.find(t=>t.id===parseInt(o.routineId)),d=b([]);v.tasks.forEach(t=>{d.value.push({label:t.label,completed:!1})});const V=B(()=>d.value.every(t=>t.completed));let g=!1;N(V,t=>{t&&!g&&(g=!0,setTimeout(()=>{a.value=!0},300))});const O=[1,2,3,4,5,6,7,8],i=JSON.parse(localStorage.getItem("displayedAnimations")||"[]"),h=O.filter(t=>!i.includes(t)),k=h[Math.floor(Math.random()*h.length)];i.push(k),i.length>5&&i.shift(),localStorage.setItem("displayedAnimations",JSON.stringify(i));const T=`/routine/animations/animation-${k}.gif`;return(t,ae)=>(l(),c("div",Q,[s("h1",null,u(y(f).name)+"'s "+u(y(v).name)+" Routine",1),_(S,{to:"/"},{default:r(()=>[W]),_:1}),s("div",X,[(l(!0),c(R,null,F(d.value,I=>(l(),j(L,{id:I.label,task:I},null,8,["id","task"]))),256))]),_(K,{open:a.value,onClose:n},{default:r(()=>[Y,s("div",Z,[s("div",null,[s("img",{alt:"Animation",class:"dialog__animation",src:T})]),_(S,{onClick:n},{default:r(()=>[ee]),_:1})])]),_:1},8,["open"])]))}};var ne=p(te,[["__scopeId","data-v-15db6ffd"]]);export{ne as default};
