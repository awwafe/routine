import{_ as m,o as l,d as c,a as s,t as p,n as C,p as $,h as w,i as T,j as y,b as A,k as B,l as N,u as b,e as r,w as u,f as S,F as R,r as F,c as j,g as x}from"./index.1e308d83.js";var q="/routine/check.png";const E=e=>($("data-v-ab4052e4"),e=e(),w(),e),J={class:"task__name"},M=E(()=>s("img",{src:q,alt:"check"},null,-1)),U=[M],z={__name:"TaskItem",props:{task:{type:Object,required:!0}},setup(e){const o=e;function a(){o.task.completed=!o.task.completed}return(n,d)=>(l(),c("div",{class:"task no-highlights",onClick:a},[s("div",J,p(e.task.label),1),s("div",{class:C(["task__status",{"is-checked":e.task.completed}])},U,2)]))}};var L=m(z,[["__scopeId","data-v-ab4052e4"]]);const G={class:"dialog__modal"},H={__name:"VDialog",props:{open:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:o}){function a(){o("close")}return(n,d)=>(l(),c("div",{class:C(["dialog",{"is-visible":e.open}])},[s("div",{class:"dialog__takeover",onClick:a}),s("div",G,[T(n.$slots,"default",{},void 0,!0),s("div",{class:"dialog__close",onClick:a})])],2))}};var K=m(H,[["__scopeId","data-v-11f3d4b7"]]);const P=e=>($("data-v-24d856b5"),e=e(),w(),e),Q={class:"routine"},W=x(" Done "),X={class:"item-list"},Y=P(()=>s("div",{class:"dialog__title"}," Congratulations! ",-1)),Z={class:"dialog__content"},ee=x(" Done "),te={__name:"RoutineView",props:{profileId:String,routineId:String},setup(e){const o=e,a=y(!1);function n(){a.value=!1}function d(){setTimeout(()=>{n()},300)}const f=A().profiles.find(t=>t.id===parseInt(o.profileId)),v=f.routines.find(t=>t.id===parseInt(o.routineId)),_=y([]);v.tasks.forEach(t=>{_.value.push({label:t.label,completed:!1})});const V=B(()=>_.value.every(t=>t.completed));let h=!1;N(V,t=>{t&&!h&&(h=!0,setTimeout(()=>{a.value=!0},300))});const D=[1,2,3,4,5,6,7,8],i=JSON.parse(localStorage.getItem("displayedAnimations")||"[]"),g=D.filter(t=>!i.includes(t)),k=g[Math.floor(Math.random()*g.length)];i.push(k),i.length>5&&i.shift(),localStorage.setItem("displayedAnimations",JSON.stringify(i));const O=`/routine/animations/animation-${k}.gif`;return(t,oe)=>(l(),c("div",Q,[s("h1",null,p(b(f).name)+"'s "+p(b(v).name)+" Routine",1),r(S,{to:"/"},{default:u(()=>[W]),_:1}),s("div",X,[(l(!0),c(R,null,F(_.value,I=>(l(),j(L,{id:I.label,task:I},null,8,["id","task"]))),256))]),r(K,{open:a.value,onClose:n},{default:u(()=>[Y,s("div",Z,[s("img",{alt:"Animation",class:"dialog__animation",src:O}),r(S,{onClick:d},{default:u(()=>[ee]),_:1})])]),_:1},8,["open"])]))}};var ie=m(te,[["__scopeId","data-v-24d856b5"]]);export{ie as default};
