import{_ as m,o as l,d as c,a as s,t as p,n as C,p as $,h as x,i as T,j as y,b as A,k as B,l as N,u as b,e as r,w as u,f as S,F as R,r as F,c as j,g as w}from"./index.b639674a.js";var q="/routine/check.png";const E=e=>($("data-v-d7c4ebe0"),e=e(),x(),e),J={class:"task__name highlighted-text"},M=E(()=>s("img",{src:q,alt:"check"},null,-1)),U=[M],z={__name:"TaskItem",props:{task:{type:Object,required:!0}},setup(e){const a=e;function o(){a.task.completed=!a.task.completed}return(n,d)=>(l(),c("div",{class:"task no-highlights",onClick:o},[s("div",J,p(e.task.label),1),s("div",{class:C(["task__status",{"is-checked":e.task.completed}])},U,2)]))}};var L=m(z,[["__scopeId","data-v-d7c4ebe0"]]);const G={class:"dialog__modal"},H={__name:"VDialog",props:{open:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:a}){function o(){a("close")}return(n,d)=>(l(),c("div",{class:C(["dialog",{"is-visible":e.open}])},[s("div",{class:"dialog__takeover",onClick:o}),s("div",G,[T(n.$slots,"default",{},void 0,!0),s("div",{class:"dialog__close",onClick:o})])],2))}};var K=m(H,[["__scopeId","data-v-11f3d4b7"]]);const P=e=>($("data-v-24d856b5"),e=e(),x(),e),Q={class:"routine"},W=w(" Done "),X={class:"item-list"},Y=P(()=>s("div",{class:"dialog__title"}," Congratulations! ",-1)),Z={class:"dialog__content"},ee=w(" Done "),te={__name:"RoutineView",props:{profileId:String,routineId:String},setup(e){const a=e,o=y(!1);function n(){o.value=!1}function d(){setTimeout(()=>{n()},300)}const f=A().profiles.find(t=>t.id===parseInt(a.profileId)),h=f.routines.find(t=>t.id===parseInt(a.routineId)),_=y([]);h.tasks.forEach(t=>{_.value.push({label:t.label,completed:!1})});const V=B(()=>_.value.every(t=>t.completed));let v=!1;N(V,t=>{t&&!v&&(v=!0,setTimeout(()=>{o.value=!0},300))});const D=[1,2,3,4,5,6,7,8],i=JSON.parse(localStorage.getItem("displayedAnimations")||"[]"),g=D.filter(t=>!i.includes(t)),k=g[Math.floor(Math.random()*g.length)];i.push(k),i.length>5&&i.shift(),localStorage.setItem("displayedAnimations",JSON.stringify(i));const O=`/routine/animations/animation-${k}.gif`;return(t,ae)=>(l(),c("div",Q,[s("h1",null,p(b(f).name)+"'s "+p(b(h).name)+" Routine",1),r(S,{to:"/"},{default:u(()=>[W]),_:1}),s("div",X,[(l(!0),c(R,null,F(_.value,I=>(l(),j(L,{id:I.label,task:I},null,8,["id","task"]))),256))]),r(K,{open:o.value,onClose:n},{default:u(()=>[Y,s("div",Z,[s("img",{alt:"Animation",class:"dialog__animation",src:O}),r(S,{onClick:d},{default:u(()=>[ee]),_:1})])]),_:1},8,["open"])]))}};var ie=m(te,[["__scopeId","data-v-24d856b5"]]);export{ie as default};
