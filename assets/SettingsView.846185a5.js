import{u as F,g as w,o as f,b as v,f as o,w as s,_ as u,e as d,d as i,q as y,F as h,r as R,c as V,a as l,t as b}from"./index.4906c2c6.js";import{C as k,_ as D,D as S}from"./vue3-smooth-dnd.esm.ff037b24.js";import"./_commonjsHelpers.4e997714.js";const I={class:"settings-view"},T=i("h1",null," Settings ",-1),U=l(" Done "),X=i("h2",null,"People:",-1),q=l("X"),E=["onSubmit"],L=l("Add Person"),M=i("h2",null,"Routines:",-1),j=l("X"),z=["onSubmit"],G=l("Add Routine"),Q={__name:"SettingsView",setup(H){const n=F(),r=w(""),_=w("");function P(){r.value.trim()&&(n.addPerson(r.value.trim()),r.value="")}function x(t){window.confirm(`Are you sure you want to delete '${t.name}'?`)&&n.deletePerson(t)}function C(t){n.profiles=p(n.profiles,t),n.saveRoutines()}function $(){_.value.trim()&&(n.addRoutine(_.value.trim()),_.value="")}function A(t){window.confirm(`Are you sure you want to delete the '${t.name}' routine?`)&&n.deleteRoutine(t)}function B(t){n.routines=p(n.routines,t),n.saveRoutines()}function p(t,a){const{removedIndex:e,addedIndex:c,payload:N}=a;if(e===null&&c===null)return t;const m=[...t];let g=N;return e!==null&&(g=m.splice(e,1)[0]),c!==null&&m.splice(c,0,g),m}return(t,a)=>(f(),v("div",I,[T,o(u,{to:"/"},{default:s(()=>[U]),_:1}),X,o(d(k),{class:"settings-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:C},{default:s(()=>[(f(!0),v(h,null,R(d(n).profiles,e=>(f(),V(d(S),{key:e.id,class:"settings-view__item"},{default:s(()=>[o(u,{to:`/settings/${e.id}`,theme:"flat,white"},{default:s(()=>[l(b(e.name),1)]),_:2},1032,["to"]),o(u,{delay:"false",onClick:c=>x(e)},{default:s(()=>[q]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),i("div",null,[i("form",{novalidate:"",onSubmit:y(P,["prevent"])},[o(D,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),class:"settings-view__input"},null,8,["modelValue"]),o(u,{delay:"false",type:"submit"},{default:s(()=>[L]),_:1})],40,E)]),M,o(d(k),{class:"settings-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:B},{default:s(()=>[(f(!0),v(h,null,R(d(n).routines,e=>(f(),V(d(S),{key:e.id,class:"settings-view__item"},{default:s(()=>[l(b(e.name)+" ",1),o(u,{delay:"false",onClick:c=>A(e)},{default:s(()=>[j]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),i("div",null,[i("form",{novalidate:"",onSubmit:y($,["prevent"])},[o(D,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),class:"settings-view__input"},null,8,["modelValue"]),o(u,{delay:"false",type:"submit"},{default:s(()=>[G]),_:1})],40,z)])]))}};export{Q as default};
