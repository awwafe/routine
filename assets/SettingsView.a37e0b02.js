import{u as R,r as V,c as v,a as d,b as s,w as i,_ as u,d as c,e as k,o as f,F as x,f as S,g as b,h as r,t as D}from"./index.8f092382.js";import{C as B,_ as C,D as $}from"./vue3-smooth-dnd.esm.ca000b88.js";const A={class:"settings-view"},N={class:"settings-view__page-layer"},E=r(" < Back "),F=d("h1",null," Select a Routine to Edit ",-1),I=r("X"),T=["onSubmit"],L=r("Add Routine"),j={__name:"SettingsView",setup(M){const n=R(),a=V("");function p(){a.value.trim()&&(n.addRoutine(a.value.trim()),a.value="")}function g(t){window.confirm(`Are you sure you want to delete the '${t.name}' routine?`)&&n.deleteRoutine(t)}function w(t){n.routines=h(n.routines,t),n.saveRoutines()}function h(t,o){const{removedIndex:e,addedIndex:l,payload:y}=o;if(e===null&&l===null)return t;const _=[...t];let m=y;return e!==null&&(m=_.splice(e,1)[0]),l!==null&&_.splice(l,0,m),_}return(t,o)=>(f(),v("div",A,[d("div",N,[s(u,{to:"/",theme:"flat,white"},{default:i(()=>[E]),_:1})]),F,s(c(B),{class:"settings-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:w},{default:i(()=>[(f(!0),v(x,null,S(c(n).routines,e=>(f(),b(c($),{key:e.id,class:"settings-view__item"},{default:i(()=>[s(u,{to:`/settings/${e.id}`,theme:"flat,white"},{default:i(()=>[r(D(e.name),1)]),_:2},1032,["to"]),s(u,{delay:"false",onClick:l=>g(e)},{default:i(()=>[I]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),d("div",null,[d("form",{novalidate:"",onSubmit:k(p,["prevent"])},[s(C,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),class:"settings-view__input"},null,8,["modelValue"]),s(u,{delay:"false",type:"submit"},{default:i(()=>[L]),_:1})],40,T)])]))}};export{j as default};
