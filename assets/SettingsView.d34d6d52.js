import{u as F,h as w,o as f,d as v,g as o,w as s,_ as i,f as d,e as l,q as h,F as y,r as V,c as R,a,t as S}from"./index.6c8a7ce8.js";import{C as b,_ as k,D}from"./vue3-smooth-dnd.esm.df57e660.js";import"./_commonjsHelpers.4e997714.js";const I={class:"settings-view"},T=l("h1",null," Settings ",-1),U=a(" Done "),X=l("h2",null,"Select a routine to edit:",-1),q=a("X"),E=["onSubmit"],L=a("Add Routine"),M=l("h2",null,"People:",-1),j=a("X"),z=["onSubmit"],G=a("Add Person"),Q={__name:"SettingsView",setup(H){const n=F(),r=w(""),_=w("");function P(){r.value.trim()&&(n.addPerson(r.value.trim()),r.value="")}function $(t){window.confirm(`Are you sure you want to delete '${t.name}'?`)&&n.deletePerson(t)}function x(t){n.profiles=p(n.profiles,t),n.saveRoutines()}function C(){_.value.trim()&&(n.addRoutine(_.value.trim()),_.value="")}function A(t){window.confirm(`Are you sure you want to delete the '${t.name}' routine?`)&&n.deleteRoutine(t)}function B(t){n.routines=p(n.routines,t),n.saveRoutines()}function p(t,u){const{removedIndex:e,addedIndex:c,payload:N}=u;if(e===null&&c===null)return t;const m=[...t];let g=N;return e!==null&&(g=m.splice(e,1)[0]),c!==null&&m.splice(c,0,g),m}return(t,u)=>(f(),v("div",I,[T,o(i,{to:"/"},{default:s(()=>[U]),_:1}),X,o(d(b),{class:"settings-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:B},{default:s(()=>[(f(!0),v(y,null,V(d(n).routines,e=>(f(),R(d(D),{key:e.id,class:"settings-view__item"},{default:s(()=>[o(i,{to:`/settings/routines/${e.id}`,theme:"flat,white"},{default:s(()=>[a(S(e.name),1)]),_:2},1032,["to"]),o(i,{delay:"false",onClick:c=>A(e)},{default:s(()=>[q]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),l("div",null,[l("form",{novalidate:"",onSubmit:h(C,["prevent"])},[o(k,{modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=e=>_.value=e),class:"settings-view__input"},null,8,["modelValue"]),o(i,{delay:"false",type:"submit"},{default:s(()=>[L]),_:1})],40,E)]),M,o(d(b),{class:"settings-view__item-list",orientation:"vertical","drag-begin-delay":200,onDrop:x},{default:s(()=>[(f(!0),v(y,null,V(d(n).profiles,e=>(f(),R(d(D),{key:e.id,class:"settings-view__item"},{default:s(()=>[o(i,{to:`/settings/profiles/${e.id}`,theme:"flat,white"},{default:s(()=>[a(S(e.name),1)]),_:2},1032,["to"]),o(i,{delay:"false",onClick:c=>$(e)},{default:s(()=>[j]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),l("div",null,[l("form",{novalidate:"",onSubmit:h(P,["prevent"])},[o(k,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=e=>r.value=e),class:"settings-view__input"},null,8,["modelValue"]),o(i,{delay:"false",type:"submit"},{default:s(()=>[G]),_:1})],40,z)])]))}};export{Q as default};
